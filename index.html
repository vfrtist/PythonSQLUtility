<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Vincent Ryan">
    <link rel="stylesheet" href="app.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cabin:ital,wght@0,400..700;1,400..700&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">

    <title>Python SQL Utility Demonstration</title>
</head>
<body>
    <header class="container horizontal">
        <h1>Python</h1>
        <h1>SQL</h1>
    </header>
    <main>
        <!-- Initial Creation -->
        <section>
            <div class="left card">
                <div>example = MySQL_Database('example', CONFIG)</div>
                <div>people = example.table('people')</div>
                <div>jobs = example.table('jobs')</div>
                <div>companies = example.table('companies')</div>
            </div>
            <div class="right card">
                <div>CREATE DATABASE IF NOT EXISTS example</div>
                <div>
                    CREATE TABLE IF NOT EXISTS people <br>
                    (people_id INT NOT NULL AUTO_INCREMENT, PRIMARY KEY(people_id)) <br>
                    SELECT * FROM people LIMIT 1 <br>
                    SHOW CREATE TABLE people <br>
                </div>
                <div>
                    CREATE TABLE IF NOT EXISTS jobs <br>
                    (jobs INT NOT NULL AUTO_INCREMENT, PRIMARY KEY(jobs_id)) <br>
                    SELECT * FROM jobs LIMIT 1 <br>
                    SHOW CREATE TABLE jobs <br>
                </div>
                <div>
                    CREATE TABLE IF NOT EXISTS companies <br>
                    (companies_id INT NOT NULL AUTO_INCREMENT, PRIMARY KEY(companies_id)) <br>
                    SELECT * FROM companies LIMIT 1 <br>
                    SHOW CREATE TABLE companies <br>
                </div>
            </div>
        </section>

        <!-- Column Setup -->
        <section>
            <div class="left card">
                <div>people.add_columns(('first_name', 'VARCHAR(50)'), ('last_name', 'VARCHAR(50)'), ('date_of_birth', 'DATE'))</div>
                <div>jobs.add_columns(('job_title', 'VARCHAR(100)'), ('salary', 'DECIMAL(9,2)'))</div>
                <div>companies.add_columns(('name', 'VARCHAR(100)'), ('address', 'TEXT'))</div>
                <div>jobs.link_to(companies)</div>
                <div>people.link_to(jobs)</div>
            </div>
            <div class="right card">
                <div>
                    ALTER TABLE people ADD (people_first_name VARCHAR(50))<br>
                    ALTER TABLE people ADD (people_last_name VARCHAR(50))<br>
                    ALTER TABLE people ADD (people_date_of_birth DATE)
                </div>
                <div>
                    ALTER TABLE jobs ADD (jobs_job_title VARCHAR(100))<br>
                    ALTER TABLE jobs ADD (jobs_salary DECIMAL(9,2))
                </div>
                <div>
                    ALTER TABLE companies ADD (companies_name VARCHAR(100))<br>
                    ALTER TABLE companies ADD (companies_address TEXT)
                </div>
                <div>
                    ALTER TABLE jobs ADD companies_id INT NOT NULL <br>
                    ALTER TABLE jobs ADD FOREIGN KEY(companies_id) REFERENCES companies(companies_id) ON DELETE CASCADE ON UPDATE CASCADE
                </div>
                <div>
                    ALTER TABLE people ADD jobs_id INT NOT NULL <br>
                    ALTER TABLE people ADD FOREIGN KEY(jobs_id) REFERENCES jobs(jobs_id) ON DELETE CASCADE ON UPDATE CASCADE
                </div>
            </div>
            
        </section>

        <!-- Data insertion -->
        <section>
            <div class="left card">
                <div>
                    companies.insert(('Big Entertainment', '235 Oakwood Lane, Springfield, IL 62701'), <br>
                    <div class="tab">('Movie Startup', '742 Elm Street, Brookhaven, NY 11719'))</div>
                </div>
                <div>
                    jobs.insert(('Executive', 125000, 1), ('Graphic Designer', 65000, 1), <br>
                    <div class="tab">
                        ('Secretary', 75000, 1), ('Director', 100000, 2), <br>
                        ('Consultant', 50000, 2), ('Producer', 85500, 2))
                    </div>
                </div>
                <div>
                    friends = [('Emma', 'Johnson', '1993-04-15', 1),
                    <div class="tab">
                        ('James', 'Smith', '1987-10-21', 1), <br>
                        ('Olivia', 'Brown', '1992-02-05', 2),
                        ('Liam', 'Davis', '1985-07-13', 2), <br>
                        ('Ava', 'Wilson', '2000-08-30', 3),
                        ('Noah', 'Taylor', '1990-11-09', 3), <br>
                        ('Isabella', 'Anderson', '1983-12-25', 4),
                        ('Mason', 'Martinez', '1995-01-22', 5), <br>
                        ('Sophia', 'Thomas', '1997-03-16', 5),
                        ('Ethan', 'Moore', '1988-06-11', 6)] <br>
                    </div>
                    people.insert(friends)
                </div>
            </div>
            <div class="right card">
                <div>
                    INSERT INTO companies (companies_name, companies_address) VALUES ('Big Entertainment', '235 Oakwood Lane, Springfield, IL 62701')<br>
                    INSERT INTO companies (companies_name, companies_address) VALUES ('Movie Startup', '742 Elm Street, Brookhaven, NY 11719')
                </div>
                <div>
                    INSERT INTO jobs (jobs_job_title, jobs_salary, companies_id) VALUES ('Executive', 125000, 1) <br>
                    INSERT INTO jobs (jobs_job_title, jobs_salary, companies_id) VALUES ('Graphic Designer', 65000, 1) <br>
                    INSERT INTO jobs (jobs_job_title, jobs_salary, companies_id) VALUES ('Secretary', 75000, 1) <br>
                    INSERT INTO jobs (jobs_job_title, jobs_salary, companies_id) VALUES ('Director', 100000, 2) <br>
                    INSERT INTO jobs (jobs_job_title, jobs_salary, companies_id) VALUES ('Consultant', 50000, 2) <br>
                    INSERT INTO jobs (jobs_job_title, jobs_salary, companies_id) VALUES ('Producer', 85500, 2)
                </div>
                <div>
                    INSERT INTO people (people_first_name, people_last_name, people_date_of_birth, jobs_id) VALUES ('Emma', 'Johnson', '1993-04-15', 1) <br>
                    INSERT INTO people (people_first_name, people_last_name, people_date_of_birth, jobs_id) VALUES ('James', 'Smith', '1987-10-21', 1) <br>
                    INSERT INTO people (people_first_name, people_last_name, people_date_of_birth, jobs_id) VALUES ('Olivia', 'Brown', '1992-02-05', 2) <br>
                    INSERT INTO people (people_first_name, people_last_name, people_date_of_birth, jobs_id) VALUES ('Liam', 'Davis', '1985-07-13', 2) <br>
                    INSERT INTO people (people_first_name, people_last_name, people_date_of_birth, jobs_id) VALUES ('Ava', 'Wilson', '2000-08-30', 3) <br>
                    INSERT INTO people (people_first_name, people_last_name, people_date_of_birth, jobs_id) VALUES ('Noah', 'Taylor', '1990-11-09', 3) <br>
                    INSERT INTO people (people_first_name, people_last_name, people_date_of_birth, jobs_id) VALUES ('Isabella', 'Anderson', '1983-12-25', 4) <br>
                    INSERT INTO people (people_first_name, people_last_name, people_date_of_birth, jobs_id) VALUES ('Mason', 'Martinez', '1995-01-22', 5) <br>
                    INSERT INTO people (people_first_name, people_last_name, people_date_of_birth, jobs_id) VALUES ('Sophia', 'Thomas', '1997-03-16', 5) <br>
                    INSERT INTO people (people_first_name, people_last_name, people_date_of_birth, jobs_id) VALUES ('Ethan', 'Moore', '1988-06-11', 6) <br>
                </div>
            </div>
        </section>

        <!-- Selection Queries -->
        <section>
            <div class="left card">
                <div>
                    people.select(<br>
                    <div class="tab">
                        <i>values=</i>('people_first_name as "First Name", people_last_name as "Last Name", jobs_job_title as "Job", jobs_salary as "Salary", 'companies_name as "Company"'), <br>
                        <i>joins=</i>(jobs, jobs.join(companies)))
                    </div>
                </div>

                <div>
                    companies.select( <br>
                        <div class="tab">
                            <i>values=</i>'companies_name as "Company", people_first_name as "First Name", jobs_salary as "Salary"', <br>
                            <i>joins=</i>(jobs, jobs.join(people)), <br>
                            <i>order_by=</i>'companies_name, jobs_salary DESC')
                        </div>
                </div>
                
                <div>example.execute()</div>
            </div>
            <div class="right card">
                <div>
                    SELECT people_first_name as "First Name", people_last_name as "Last Name", jobs_job_title as "Job", jobs_salary as "Salary", 'companies_name as "Company" FROM people<br>
                    INNER JOIN jobs on people.jobs_id = jobs.jobs_id <br>
                    INNER JOIN companies ON jobs.companies_id = companies.companies_id
                </div>
                <div>
                    SELECT companies_name as "Company", people_first_name as "First Name", jobs_salary as "Salary" FROM companies <br>
                    INNER JOIN companies ON jobs.companies_id = companies.companies_id <br>
                    INNER JOIN jobs on people.jobs_id = jobs.jobs_id <br>
                    ORDER BY companies_name, jobs_salary DESC
                </div>
            </div>
        </section>
    </main>
    <script src="app.js"></script>
</body>
</html>